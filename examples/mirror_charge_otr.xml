<?xml version="1.0"?>
<teufel description="Transition radiation emission from a point charge modeled with a mirror charge"
    author="Ulf Lehnert 27.8.2019">
    <calc print="beam energy [eV] = " var="E_beam" eq="26.0e6" />
    <calc print="gamma = " var="gamma" eq="E_beam/_mec2"/>
    <calc print="beta = " var="beta" eq="sqrt(1.0-1.0/(gamma*gamma))"/>
    <calc print="charge [nC] = " var="charge" eq="-1.0" />
    <!-- screen is placed at x=0.1m, cmpute arrival time -->
    <calc print="tracking length [m] = " var="L" eq="10.0" />
    <calc print="tracking total time [s] = " var="track_t" eq="L/(beta*_c)" />
    <calc print="dt = " var="dt" eq="track_t/4000" />
    <lattice>
        <!-- empty -->
    </lattice>
    <beam>
        <!-- the true charge -->
        <particle gamma="gamma" charge="1.0e-9*charge" cmr="-1.0" >
            <position x="-L" y="0.0" z="0.0" />
            <direction x="1.0" y="0.0" z="0.0" />
        </particle>
        <!-- the opposite polarity mirror charge -->
        <particle gamma="gamma" charge="-1.0e-9*charge" cmr="1.0" >
            <position x="0" y="0.0" z="-L" />
            <direction x="0.0" y="0.0" z="1.0" />
        </particle>
    </beam>
    <tracking method="Vay" delta_t="dt" n="4000" >
        <watch step="4000" file="mirror_charge_otr_final.h5" />
    </tracking>
    <observer>
        <calc print="screen dt = " var="screen_dt" eq="1e-5/_c"/>
        <screen file="OTR_screen_05.h5">
            <calc print="screen distance [m] = " var="L_sc" eq="0.5" />
            <calc print="screen center time t0 = " var="t0" eq="track_t+L_sc/_c"/>
            <position x="0.0" y="0.0" z="L_sc" />
            <hpitch x="0.002*L_sc" y="0.0" z="0.0" n="51" />
            <vpitch x="0.0" y="0.002*L_sc" z="0.0" n="51" />
            <time t0="t0-500*screen_dt" dt="screen_dt" n="1000" />
        </screen>
        <screen file="OTR_screen_10.h5">
            <calc print="screen distance [m] = " var="L_sc" eq="1.0" />
            <calc print="screen center time t0 = " var="t0" eq="track_t+L_sc/_c"/>
            <position x="0.0" y="0.0" z="L_sc" />
            <hpitch x="0.002*L_sc" y="0.0" z="0.0" n="51" />
            <vpitch x="0.0" y="0.002*L_sc" z="0.0" n="51" />
            <time t0="t0-500*screen_dt" dt="screen_dt" n="1000" />
        </screen>
        <screen file="OTR_screen_20.h5">
            <calc print="screen distance [m] = " var="L_sc" eq="2.0" />
            <calc print="screen center time t0 = " var="t0" eq="track_t+L_sc/_c"/>
            <position x="0.0" y="0.0" z="L_sc" />
            <hpitch x="0.002*L_sc" y="0.0" z="0.0" n="51" />
            <vpitch x="0.0" y="0.002*L_sc" z="0.0" n="51" />
            <time t0="t0-500*screen_dt" dt="screen_dt" n="1000" />
        </screen>
    </observer>
</teufel>
